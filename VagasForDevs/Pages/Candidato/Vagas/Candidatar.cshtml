@page
@using Microsoft.AspNetCore.Mvc.RazorPages;
@using VagasForDevs.Repositories.Interfaces;
@using VagasForDevs.Models;


@inject ICandidaturaRepository CandidaturaRepository
@inject IUsuarioRepository UsuarioRepository

@{
    int idUsuarioLogado = HttpContext.Session.GetInt32("IdLogado") ?? 0;
    int idVaga = int.Parse(Request.Query["Id"]);

    CandidaturaRepository.Create(
        new Candidatura
        {
            Id_Usuario = idUsuarioLogado,
            Id_Vaga = idVaga
        }
    );

    Response.Redirect("Index");




    // Usuario usuarioLogado = UsuarioRepository.GetById(idUsuarioLogado);

    


}
